# 0005.code-cell-toggle-and-status

## Background

Code cells are always visible with full editors, consuming screen space and reducing focus on results. Users need to collapse completed cells while maintaining visibility of status and output.

## User Story

> **As a** user reading or running a notebook  
> **I want** to toggle code editor visibility and see cell execution status  
> **So that** I can collapse completed cells and focus on results and narrative.

## Acceptance Criteria

1. Toggle button with eye icon (`FaRegEye`/`FaRegEyeSlash` from react-icons) on every code cell
2. Default state: code editor hidden, only top-level comment (markdown) displayed
3. Toggling shows/hides code editor instantly without re-executing
4. Status button shows current execution state with color and icon: new, running, complete, failed, cancelled
5. Hovering status button reveals action: "Run" (if not running) or "Stop" (if running)
6. All icons from react-icons with consistent size and color scheme
7. Works on desktop and mobile viewports (â‰¥320px width)

## Technical Notes

- **State Management**: Store visibility per cell in React state or context
- **Accessibility**: Include `aria-label`s and keyboard focus styles on buttons
- **Animation**: CSS transition (e.g., `max-height`) for smooth collapse/expand
- **Status Enum**: Reuse existing execution state types from previous stories

## Definition of Done

- All acceptance criteria are met
- Unit tests for visibility toggle and status handling
- Lint & type-check succeed
- Responsive design works on mobile and desktop
