# User Story 0010: Non-intrusive `updatedAt` handling for notebook files

## Title

Do **not** bump a notebook file’s `updatedAt` timestamp when the user merely opens it; update the timestamp only when the file’s contents (cells, messages, title, etc.) really change.

## As a

Notebook user who switches between many files

## I want

The “last modified” date of each notebook (shown in File Panel grouping & sorting) to reflect genuine edits, not just when I happened to click on it.

## So that

• I can reliably see which notebooks I actually worked on today versus the ones I only viewed.
• Sorting by modified date remains meaningful.

## Acceptance Criteria

1. Merely selecting/opening a notebook **must not** change its `updatedAt` field in local storage.
2. The timestamp **must** update when any of the following change:
   • Cells are added, removed, or `text` field change.
   • Chat messages are added or removed.
   • The notebook title changes.
3. The update detection logic must compare the _current_ stored notebook with the pending changes using a deep-equality check. Only if a real difference is found should `updatedAt` be set to the current ISO date string.
4. Unit tests cover:
   • Opening a notebook without edits → timestamp unchanged.
   • Editing a cell → timestamp updated.
   • Sending a chat message → timestamp updated.
5. The implementation must not introduce noticeable latency when saving.

---

### Technical Notes / Implementation Hints

- Keep debouncing logic (500 ms) as-is to avoid excessive writes.
- No changes are required in the UI components.
